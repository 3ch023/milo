// Thu, 09 Nov 2023 14:55:13 GMT
import{LitElement as o}from"./lit-all.min.js";var r=class extends o{static properties={offers:{type:Array},selectedOffer:{type:Object},defaults:{type:Object}};saveContainerDefaultValues(){let e=this.closest(this.getAttribute("container")),t=e?.querySelector('[slot="description"]:not(merch-offer > *)')?.cloneNode(!0),s=e?.badgeText;return{description:t,badgeText:s}}getSlot(e,t){return(t||this.closest(this.getAttribute("container"))).querySelector(`[slot="${e}"]:not(merch-offer > *)`)}updateSlot(e,t){let s=this.getSlot(e,t);if(!s)return;let i=this.selectedOffer[e]?this.selectedOffer[e]:this.defaults[e];s.replaceWith(i?.cloneNode(!0))}updateBadgeText(e){this.selectedOffer.badgeText===""?e.badgeText=null:this.selectedOffer.badgeText?e.badgeText=this.selectedOffer.badgeText:e.badgeText=this.defaults.badgeText}updateContainer(){let e=this.closest(this.getAttribute("container"));!e||!this.selectedOffer||(this.updateSlot("cta",e),this.updateSlot("price",e),this.updateSlot("description",e),this.updateBadgeText(e))}constructor(){super(),this.offers=[...this.querySelectorAll("merch-offer")],this.defaults=this.saveContainerDefaultValues(),this.addEventListener("offer-selected",e=>{let t=this.selectedOffer,s=e.detail;s&&(s.setAttribute("aria-checked",!0),t&&(t.selected=!1,t.setAttribute("aria-checked",!1)),this.selectedOffer=s,this.updateContainer())})}connectedCallback(){this.offers[0].select(),this.selectedOffer=this.offers[0]}};customElements.define("merch-offers",r);
